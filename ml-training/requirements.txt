# ═══════════════════════════════════════════════════════════════
# RaceTagger ML Training - Python Dependencies
# ═══════════════════════════════════════════════════════════════

# Deep Learning Framework
tensorflow>=2.13.0,<2.16.0           # Core ML framework
tensorflow-macos>=2.13.0; platform_system=="Darwin"  # Mac M1/M2 optimized
tensorflow-metal>=1.0.0; platform_system=="Darwin"   # Metal GPU acceleration

# Image Processing
Pillow>=10.0.0                       # Image loading and manipulation
opencv-python>=4.8.0                 # Computer vision utilities
imageio>=2.31.0                      # Multi-format image I/O

# Numerical Computing
numpy>=1.24.0,<2.0.0                 # Numerical operations (TF compatible)
scipy>=1.11.0                        # Scientific computing

# Machine Learning Utilities
scikit-learn>=1.3.0                  # ML metrics and preprocessing
scikit-image>=0.21.0                 # Image processing algorithms

# Data Handling
pandas>=2.0.0                        # Dataset management
h5py>=3.9.0                          # HDF5 file format support

# Visualization
matplotlib>=3.7.0                    # Plotting and visualization
seaborn>=0.12.0                      # Statistical visualizations
tensorboard>=2.13.0                  # Training monitoring

# Progress Bars & CLI
tqdm>=4.65.0                         # Progress bars
rich>=13.5.0                         # Beautiful terminal output
click>=8.1.0                         # CLI framework

# HTTP & API
requests>=2.31.0                     # HTTP requests for data collection
urllib3>=2.0.0                       # URL handling
python-dotenv>=1.0.0                 # Environment variables from .env

# TensorFlow.js Export
tensorflowjs>=4.11.0                 # Convert models to TF.js format

# Jupyter Notebooks (optional, for analysis)
jupyter>=1.0.0                       # Jupyter notebook support
ipykernel>=6.25.0                    # IPython kernel
ipywidgets>=8.1.0                    # Interactive widgets

# Testing
pytest>=7.4.0                        # Testing framework
pytest-cov>=4.1.0                    # Coverage reporting
pytest-xdist>=3.3.0                  # Parallel test execution

# Code Quality
black>=23.7.0                        # Code formatting
flake8>=6.1.0                        # Linting
mypy>=1.5.0                          # Type checking

# Development
ipdb>=0.13.13                        # Debugging
pre-commit>=3.3.0                    # Git hooks

# ═══════════════════════════════════════════════════════════════
# Installation Notes
# ═══════════════════════════════════════════════════════════════

# Mac M1/M2 (Apple Silicon):
#   pip install -r requirements.txt
#   # tensorflow-macos and tensorflow-metal will be installed automatically
#   # Provides Metal GPU acceleration

# Linux/Windows with NVIDIA GPU:
#   pip install tensorflow[and-cuda]
#   pip install -r requirements.txt
#   # Provides CUDA GPU acceleration

# CPU Only (any platform):
#   pip install -r requirements.txt
#   # Works but training will be slow (~8 hours)

# Google Colab (free GPU):
#   # TensorFlow is pre-installed
#   !pip install -r requirements.txt
#   # Use T4 GPU for free

# ═══════════════════════════════════════════════════════════════
# Verification
# ═══════════════════════════════════════════════════════════════

# After installation, verify GPU acceleration:
#   python -c "import tensorflow as tf; print('GPU:', tf.config.list_physical_devices('GPU'))"

# Expected output:
#   Mac M1/M2: GPU: [PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]
#   NVIDIA:    GPU: [PhysicalDevice(name='/physical_device:GPU:0', device_type='GPU')]
#   CPU only:  GPU: []
